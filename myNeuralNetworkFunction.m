function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 22-Jul-2020 09:46:48.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 128xQ matrix, input #1
% and returns:
%   y = 8xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_remove = [16 27 42 43 49 72 86 92 95];
x1_step1_keep = [1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 17 18 19 20 21 22 23 24 25 26 28 29 30 31 32 33 34 35 36 37 38 39 40 41 44 45 46 47 48 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 73 74 75 76 77 78 79 80 81 82 83 84 85 87 88 89 90 91 93 94 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128];
x1_step2_xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step2_gain = [0.0947867298578199;0.172413793103448;0.178571428571429;0.175438596491228;0.165289256198347;0.152671755725191;0.15748031496063;0.136054421768707;0.138888888888889;0.165289256198347;0.163934426229508;0.178571428571429;0.169491525423729;0.168067226890756;0.168067226890756;0.188679245283019;0.151515151515152;0.161290322580645;0.194174757281553;0.165289256198347;0.166666666666667;0.18348623853211;0.186915887850467;0.186915887850467;0.18348623853211;0.165289256198347;0.168067226890756;0.176991150442478;0.172413793103448;0.00643915003219575;0.00271997824017408;0.00592592592592593;0.166666666666667;0.19047619047619;0.148148148148148;0.151515151515152;0.173913043478261;0.163934426229508;0.16260162601626;0.15625;0.181818181818182;0.173913043478261;0.173913043478261;0.194174757281553;0.172413793103448;0.196078431372549;0.170940170940171;0.155038759689922;0.168067226890756;0.192307692307692;0.155038759689922;0.153846153846154;0.18018018018018;0.192307692307692;0.16260162601626;0.169491525423729;0.18348623853211;0.18018018018018;0.0478468899521531;0.0208333333333333;0.0392927308447937;0.192307692307692;0.181818181818182;0.2;0.2;0.194174757281553;0.169491525423729;0.181818181818182;0.173913043478261;0.2;0.148148148148148;0.169491525423729;0.18348623853211;0.19047619047619;0.15748031496063;0.198019801980198;0.18348623853211;0.196078431372549;0.158730158730159;0.186915887850467;0.198019801980198;0.168067226890756;0.16260162601626;0.169491525423729;0.169491525423729;0.15748031496063;0.0985221674876847;0.050251256281407;0.0760456273764259;0.15625;0.185185185185185;0.192307692307692;0.151515151515152;0.194174757281553;0.144927536231884;0.172413793103448;0.142857142857143;0.18348623853211;0.186915887850467;0.188679245283019;0.16260162601626;0.151515151515152;0.19047619047619;0.163934426229508;0.161290322580645;0.186915887850467;0.172413793103448;0.172413793103448;0.170940170940171;0.161290322580645;0.148148148148148;0.188679245283019;0.176991150442478;0.166666666666667;0.15625;0.172413793103448;0.176991150442478;0.19047619047619;0.13986013986014];
x1_step2_ymin = -1;

% Layer 1
b1 = [-1.4281519746317536956;-1.0397389942227870385;-0.80279902974135897153;0.45246039348918382084;-0.1764593763871285248;-0.19704810884719312081;0.47687178153709869344;0.78867189622233657698;1.110856140016019955;-1.4475910788716437327];
IW1_1 = [0.060872356653508513658 0.010752975389642031867 0.19551347008324224119 -0.16142642105517696072 -0.072582017751819979945 -0.17966274299507298262 0.0033207210991339532191 0.095354667685980165626 0.20111458053914155197 0.15713654951186897812 -0.15022058424734849313 -0.097738526470125652867 -0.060082637777775303733 0.21406429583927363836 0.080861916112650880639 -0.079056991479796029365 0.058743961963667816473 0.22175685984918197535 0.1013783067908840263 0.12250335145119269076 -0.052103563132595988316 0.14099533922447027301 0.08088824720320238193 -0.21030148327799405572 0.21626609592726198095 0.070233153382074392512 -0.20283942288336850868 -0.10288105286425855422 0.019534638820507800594 0.12193954095116589509 0.059943068571756394358 0.10990625878276470695 0.16012163112580338198 0.17334812127848669983 0.024064663884590834636 -0.035943798686045434765 -0.065775507996258156251 0.15677087564781347351 0.22291093674429940386 0.1652340934792895788 -0.11851265459165534477 0.15294023982783494509 -0.22337974240299734996 -0.024079194341200316209 -0.10789556740123958101 0.012232444601475239709 -0.055048106485134820631 0.1920432575113496243 -0.094783235370854118651 -0.066556086191699947996 -0.16160847423606836126 0.12800681069325028916 0.055772120774703864976 0.082176057576674094163 -0.046537052681785540109 -0.041527608657288349325 0.12772694591190950075 0.21330181468935044409 -0.13959649325426076727 0.093498683165794807537 0.023564163721818014163 0.13955364215962040575 0.003783330328347975658 0.22310348152989067927 -0.085696918051372542036 -0.10491923890395979391 0.20416874743420260208 -0.09912757879915132242 0.064854859564892980428 0.0040441640248414087097 0.03803224286331032683 0.11019512557999787405 -0.085882526485858479148 -0.13777313059652360194 -0.019494226047319266476 -0.17017920396041999465 0.13661103386134534898 0.058062222776319824535 -0.15546713146311455511 0.11657876902638346361 0.026235195943228782622 0.027014309079804177394 0.121211769164266292 0.16657610000182410115 0.10341561727741144239 -0.14056238897306191915 -0.14139437540574115171 -0.015057624438951309684 0.13827921846791751959 0.0045649469992138612395 -0.087136633268223323556 0.02183052502481104204 0.044450194186789804274 -0.21017312703226975756 -0.04614817774281030488 -0.038105003540070160606 -0.19949991730420471581 0.21646873276570358091 -0.20033697878520750901 -0.057602938216579621655 -0.17796734261669139299 -0.063953699879541886508 -0.20445010959454928967 0.16194912836303024251 0.1660299073113170043 -0.15101951774899269321 -0.073850947983653200679 -0.02254520678353683083 0.18292747259440889085 0.14780987297600356456 0.074213010677639010271 0.13305374402820263624 0.15235444265827774446 0.21416831466337096779 -0.21509774231089165419 0.20737079517787534999 0.048711896020338894819 -0.10232025156567541024 -0.18503701635758221244;0.054223329766629371762 -0.12972769927341076812 -0.26144317897015489915 -0.10782303506941064153 -0.03169655027080086479 -0.29514566236897632479 -0.19494576474350544526 0.036241284124343770001 -0.22778995826429310201 -0.053806695508789657845 0.072429869002899632813 -0.0047654019184833465092 -0.26286565546448614761 -0.078058147024901075595 -0.12183239362477622791 -0.27027511172155005426 -0.18794475923487641289 -0.068656131046163609843 -0.23396215476954124179 0.014630576962312133796 -0.2527653599586346389 0.0018098206446176530546 -0.11656628356371358246 -0.28222094702527061871 -0.25936300735284717467 0.11066067468950915864 0.10372650419079962325 0.11197828916776898789 -0.012145687579277310644 -0.01184632785332508445 0.094002793669690304368 -0.012548286975773292537 0.0055492032804927591758 -0.22263078792467422273 -0.12633340720551836101 -0.22134649489366753361 -0.20266342882119425806 0.061364317166707656181 -0.2356240864382342648 0.041152831304757539477 0.10344433783169883212 0.12323344336946435995 -0.20988854107343951627 -0.14529710178570426349 -0.15031269642692371424 -0.045662163548829778903 -0.0033253105198399832837 -0.075860962010280003076 0.058846693608646673257 -0.088512615684435136387 0.082305368789140992414 -0.023861204815717587668 0.07691838492451748277 -0.2242695114494648867 0.096781925354671852202 -0.21411129533574468908 -0.27042971150832062488 -0.045684509251042552946 -0.13285808654911476778 -0.25887562197474028869 -0.088113049131683066073 -0.28554091293139571839 0.067863003557826789836 -0.056279819364429453654 -0.2397453249750968185 0.13707430602895875893 0.14171423803620442072 -0.24917916211446636265 -0.28361024932997291881 -0.19497846603577489999 -0.090621106287453484507 0.077252836409329214695 -0.066733381233203936667 0.030172318581932273257 -0.043030116932123933793 9.7122151450543698368e-05 -0.16108012100626389884 0.048398277450317987725 0.090214519831855022325 0.062296025712952861342 -0.091318909481776261439 -0.14957888284163489701 -0.14441494231887325173 -0.057782128229438116385 0.062667740975629881994 -0.17054393914160392853 -0.16122206916524645104 -0.14910582014787315819 -0.08182793093874532464 0.012013909069618080097 -0.23298291988302721744 -0.0093279629576270995522 -0.0089457871242630548902 0.11011565588486976752 -0.12693316420418385149 -0.20148014088736973526 -0.25752731231014086566 0.089255915293286386403 -0.23731872421892441505 -0.0034361343129862957115 -0.085989901401430590688 -0.15456325456816749631 0.057636757257717011194 0.04871727219475071452 -0.23236493508869557334 -0.050446229917397257536 -0.27507745974251196497 0.11999880149945353625 -0.17663036447182225985 -0.059642075151347999362 -0.12326949239099652122 -0.26379888455927058555 -0.28322906112605061857 -0.096561101210446254051 -0.068713332267909696394 0.029796628070184384696 -0.27144013316160825466 0.014655181408613103186 -0.27720706371823361502;0.13184500437488463898 -0.15977052019549700668 -0.12096518489353319525 -0.17306134217502544548 0.044329849785074405821 -0.078571925359771102593 0.036227744052077834325 -0.05133234500921127208 0.10686841840766955758 0.30230188047972050835 -0.10555417223782147251 -0.14054221398057473169 0.00047580241409639258826 0.022126104192585763913 0.23977624798808883089 -0.15005127172492460641 0.25628035061076609447 -0.14451717941752814656 0.17816453685186905975 0.29124036281446308294 -0.0050826117791543572524 0.17840489394094727338 0.22883716739193843415 -0.036779418669207350479 -0.12067324206066061543 -0.079050048116385399077 -0.18237983680959266031 0.14686281213582663696 -0.073257407919945699559 0.7885793629494971535 0.64302255638704075569 0.72887174719593073036 0.24666107741386192331 -0.014001992349637205904 -0.1492392964704562508 0.29310295910012917897 0.056425563599695874317 -0.085845347376219613422 -0.087221404750640593728 0.084663032167281201956 0.13624365317533776443 -0.12150892264849194602 0.026262333243912357877 -0.21383079275002056518 -0.11554217755029642933 0.21382608612358333655 0.15820771072700057225 -0.14571115691359814992 0.062300528469278880495 -0.19204428412353061195 0.062937571855824270273 0.027140113618623711716 0.10090079907347498933 0.10605624380024468445 -0.00066798421157358367842 -0.15265368792469202752 -0.050484782217623695721 0.13191451393256126146 0.083741913109333085408 0.34596521654482209618 0.19471584120446347455 0.023076578666997939887 -0.097493509844083545146 -0.056304409765360441398 0.18316398101658387665 -0.13983332557598943113 0.17800225412969766792 -0.1464578633472521374 -0.2587705530279498789 0.27109394498403160956 0.056145675759901779445 -0.023039467979658861951 0.14127527964919750492 -0.24288346829996218523 0.057200325248728256522 -0.13984090596094825298 -0.038029148827599348892 -0.27108485945855104182 -0.053461597551991903166 -0.03807609675546037159 -0.062960312687257657949 0.10022885491262328861 -0.12711003645097104786 -0.049159341421497824987 0.027915357918310627211 -0.087165163954157312554 0.12933478626637517905 0.48244265830041888066 0.33841520422464832496 -0.033134511351793682898 -0.12153077034661688427 -0.014140439450111978378 -0.19107201231088280502 -0.024293664355097520369 -0.027657066776279718573 -0.13086446280205663029 0.07730133895981564085 -0.14341555142001391476 -0.017910585392976387242 -0.020575257665816672203 0.086299872606392075136 -0.027861332476278935499 0.11021650089406430373 -0.14228938401266311153 -0.21873053800382197265 0.010204034702146718219 -0.032256532963979629713 0.093393071620955031564 0.0076456239442297489056 0.1080070394487357005 -0.019623722770204556076 0.25585087136840917177 0.094360244464399070652 -0.064053821499321608735 -0.15862288942311084106 -0.10420453129596590758 0.10306443861799387263 0.29144388586478692238 0.16832344555282702236;-0.16406580405430157277 -0.10515003994698161882 0.1130463223483488544 0.21116041111151365173 -0.17474581849412587631 -0.064318315033245518353 -0.14516220709703470115 0.085334328981573739914 0.10383038979916252298 0.023430228566897647741 0.015074745560146611892 0.11502400055500591747 -0.12139289663278628184 -0.18240322251848653523 0.037602896963370997796 0.10763618566833257906 -0.0044099617065051959289 0.032233848975083911892 0.12603391672847799598 0.074360020498450585258 0.039477253072180307214 0.0098675207592126817219 0.13892637419288395018 0.10223112549493532097 -0.17437875548673453796 0.22566311689831533571 -0.063730608954154777113 -0.18891701622203349586 0.19013799578820070324 0.23345905426627674983 -0.12267816986118931788 0.16273074821928973366 -0.19791584190580413516 -0.15732439195926145592 0.081177188237096936652 0.1563992968016942875 -0.10977828522549035184 -0.058496787297462868316 -0.034729729851540547259 0.040922591955819556664 0.18812900816239588875 -0.059851373957190319441 0.035707012181393167627 -0.18608003300876779784 0.17694320686020822975 -0.13906959037979438332 0.14404604592805272945 -0.072230157331478181404 0.0079688566907824293778 -0.068213329044565770842 0.18449240140494516105 0.10742043263064872394 0.22603927963232797738 0.026877716109424631963 -0.03438668473008126697 -0.086455026625962383413 0.06679148581579286148 0.17427248993844776659 -0.97069032531268983899 -0.98440113221337022242 -0.98329478897552125005 -0.012430326668044510557 -0.10537902541136386081 -0.16215551001120620533 0.15853386004824709943 -0.16871712121518078753 0.18506383817145424797 0.10958616633035352106 -0.20080671256945514802 0.22168487047948282065 -0.1103171613443254262 -0.14330603894174298585 0.13182447209525774423 0.2030673511866532277 0.034859236560186641907 -0.062383830427849576439 -0.052256303725652153425 0.16076606014942085299 -0.020109269123267676377 -0.18056875115133347309 -0.15529108195565413664 0.18580714068986164955 0.050009841896720988452 -0.10536357517488305346 0.13026974233546553816 0.00102047315070115884 -0.44053201389032831115 -0.7254196095906229047 -0.6501741237236814408 0.1738629968076506882 0.11867406472153477215 -0.075631268505471679897 0.035641519146825471898 -0.13461562884622921277 0.16546277466614001117 -0.18989980896284466838 -0.080813895404031943492 0.013916462189611939967 -0.0021657835976512463186 0.19126512416134994199 0.14158922844798738083 0.053913338741347897887 -0.019212037986778500442 -0.018334765099459703758 -0.087130906301027280514 -0.089540976900520527493 0.025354044370371368183 0.14392133747255630993 -0.025174494013697309297 -0.128640281517396593 0.10692772348208930133 -0.015302352876512541335 0.059829822719203486214 0.16509711718574937578 -0.18581353710298278981 -0.19664978465240121053 0.012374420762276834226 -0.12919562033654186095 0.11765932366470231718;0.10658062243936512747 -0.18346725864001173223 -0.15632642889782522033 -0.11363133442582717958 -0.13278816063017853666 -0.044974690947633039206 0.052849467670737962366 0.13256057968294965299 -0.1399848016929406691 -0.059935406934759731523 0.11456832741756452221 -0.11080823090730834712 0.048998052379899910413 0.030639927484247347911 0.097528902884113102822 -0.10524786201582519984 0.13034726471274216131 -0.1051535628309038517 0.052652803739625449186 -0.1421180124913694609 0.11851209463158743351 0.0068353632115402554806 -0.10987600362021415767 0.097983839497637406635 -0.15682178309314259712 0.14052983161432394676 -0.12680479873339922658 0.1465364092682465702 0.17407396263168775641 0.97652199868279720985 1.1198227977326533633 1.0765092675259204658 -0.16530246327017655839 -0.12747166937145323895 0.076855928452404229101 0.18069092583406815011 -0.15768726068370081395 -0.034551311324452577134 -0.16993802584483944096 -0.052593532805384847484 -0.088218677647716362 -0.20151020949794043458 0.20132517992494541881 -0.20250913267873588142 0.011863183706108731616 0.19194573201902725978 0.10515261028830873158 0.036072531607908943363 -0.11865501443959280969 0.10001917223678384594 -0.016070710562463556836 -0.16185521748572956335 -0.13514574249103408765 0.093377968721983825584 0.14079685289022525474 -0.1116385714907171256 0.19464977484478865333 0.090447525860076885551 -0.19410765432169060918 -0.04657136262507405311 -0.37006564461663160603 -0.19860306239016234375 0.17325570402394613323 0.14187255488772504419 -0.024044605974502072931 -0.17739774682340395118 -0.079650286490768620884 0.088250026487421473487 -0.17608239625357324787 0.035892092550766481474 0.091253331789991218304 -0.17840273877178286499 0.1766761168454285269 0.11956369463918568863 -0.092939244699638920433 0.1580194715238136538 -0.070524713740276620544 0.050940069394523376789 0.19835198142864304827 0.1659226037412409871 -0.056074683528685165257 0.025570681767866844381 0.039183601430350420425 -0.0012689428520519479941 0.095484198801272429646 0.016121308779154647911 -0.081999455969308743253 -0.44923154889880290153 -0.099431487622995765041 -0.11034759457461307264 0.050635999684125271303 0.03869929262039557144 -0.10845435761456358181 0.030801602406097642467 0.18469456874867801188 0.2066727967868635385 -0.20453428150738683922 -0.17209087099657710551 -0.0151271763479091121 -0.11042329899944433591 0.11361809735946831745 0.014076384960517360906 -0.075843437168107999402 0.2106990977054254699 -0.19191433839335791944 0.11699645121567447958 -0.14474866595019170168 0.11300373212796668843 -0.085905359767008096505 -0.079121694663487451837 -0.19432504965593525026 0.1501911001447511218 -0.13329136022961704522 0.20666731704845836548 0.092438176783401715397 0.086550937979944050915 0.023259573857234719374 0.11707363869993338279 0.18489786565784308014;0.11562325213096470711 -0.17426966408347371873 -0.15790740348829507278 -0.09647126914857467872 -0.2089327998964239097 0.072272684730770364592 -0.14196493154030701001 -0.075446222636465790079 -0.22513951470749482553 -0.21641182815354803592 -0.12833485020879137339 0.044153104401493233067 0.24568538994837696432 -0.21852182829916258489 0.075727646510635002186 0.14526782882730579494 0.02820155967382978815 -0.13677311979838027711 0.31072376886772967719 -0.22235241548074782814 -0.15703116405351458251 -0.057534941031794371857 -0.29032311477870520466 0.0080139402938310261293 0.34990386453725358384 -0.15039398349748930861 0.2842659609700539658 0.16308089925564978051 -0.17255882127915816993 -0.28352333067803259237 -0.48307562619043153962 -0.22001051256220838237 0.073781829382689595453 0.021896287515906998067 0.24752770821304229121 -0.09212980380070361075 0.21364765930940202154 0.0012379169877160521064 0.046353419089347917825 0.16754469771890709295 -0.01091406221422306505 -0.35948358521012752087 0.075808516420127980417 0.16674797018580816976 -0.1722612355338204726 0.12683337513860656887 0.028743073484401641254 0.075835897231640164717 0.37588735355873215127 0.34979594212170550538 0.045410336969442063881 0.070623372322078686869 -0.010776699843372351817 -0.095715303776638088751 0.072888771632978549553 0.10871503901718129748 -0.014275994557197921667 0.38122770606449107866 -0.35753434712766618553 -0.51744302197155422895 -0.22619614123829290264 0.35545257048412048917 -0.048123960584409937458 0.2870947356889960167 0.16061676710807082369 0.24526806656673960649 -0.14139720695336302492 0.040170277596592161851 -0.16487867332896108397 -0.37963474834076904596 0.067334259532586912544 0.34579383316649997537 0.062782578240079892073 0.21583383097088423841 0.31602755785517272491 0.073685698245825145825 -0.062815355906478048675 0.20156389724942011532 -0.0080283505009264496954 -0.4249775407508645797 0.19729520668989794507 0.29598476659798139687 0.091485213018750913272 0.22412547061516607805 0.22845807738225379357 0.11919863023135839064 -0.41892107786826543459 -1.599734672249191636 -0.47073756693964474707 -0.040383589270966920026 -0.093306063297450517191 -0.29312795521334722437 0.1067513693313262152 0.11453977310252755339 -0.037599864701849325388 0.38421795850283296803 -0.18872328460345899614 0.085308105219188010149 -0.1825016758255952054 0.265630444627542317 0.14922080724106051575 0.059922703684287245696 0.39510620931982259885 -0.082821746640407339912 -0.33920312177262779141 -0.14339375717018290612 0.090023852142957619393 -0.18350429613833169062 -0.069684107069462306039 0.27890194558662173563 -0.28752950521697789865 -0.18299637283241770858 -0.099975088766998329581 -0.0071250442699205404282 0.2776164052119086123 0.14951941161556173143 0.1611943715388670928 0.12317102366716350947 0.21290645586348574958;0.18498555294755755773 0.16998930077766766233 -0.098555621079960922803 -0.21731548424450861101 0.16012571459390045892 0.044817717099409633275 0.20543173602812059286 0.12120539118417540669 -0.11944096233785381211 0.071504284161552328358 -0.14561088254381615581 0.03688837859063285457 0.14552827934937298537 0.16613211426183577268 0.12912931799061452831 0.089102984389329425996 -0.029945591665848193125 -0.14446870996103988727 -0.069895070362007774567 -0.16405046351684654526 -0.14342952349337942386 -0.26653920382097501252 -0.13467621355296072183 -0.16565907425598161429 -0.12636895136599102241 -0.14973118002632002099 0.099676880550088040045 0.092623336118948587647 0.06065889643839687817 -0.69781348022481648474 -0.57072600683094887319 -0.36446993497165830478 -0.080395579539660200208 0.098466912181894530876 0.032801718600609763854 -0.20640878417363225927 0.1653276806502148033 -0.20202092090645334954 -0.020703557387833231712 0.2709819158638366865 0.11893767329659067633 -0.075796549363840726166 -0.014714903545166576476 -0.086892161105823151335 -0.10192948738540107134 0.084082961110957671336 -0.050997452966662852603 0.12844553286348300847 -0.10553509839770312817 0.14714925932664399411 0.16226544457020872225 -0.19395823756984434394 -0.18444654707946844807 0.23902627558392694485 -0.14768509536446450259 0.19828399234031857112 0.063513932562489522349 0.13165137975468541032 -0.075127553651179873606 0.12804647694079662745 -0.13943495856029311519 0.04364058001366756534 0.087047538363811849393 -0.013449385455791041527 0.13706586643140719617 0.20970048101027172205 -0.068224397250367607715 0.16259654884356353199 0.22386661492059642398 -0.17964351887081855819 0.086340644771980334937 -0.085120325791173401253 0.13576798372678722249 -0.070897511123025364066 0.16968488641191267763 0.091688233184743922477 0.072202788813576085358 0.183094729953244717 -0.012691111945560808183 0.13370587908236716834 -0.19476535922487892005 0.14645022304359614496 0.14353568700294536131 -0.15201457399823745109 0.053103251621139123395 0.12330901616596692816 0.030926135200382461055 -0.33614705466154692903 -0.023791735797048192691 -0.19039714897301718288 0.00044451767793538812454 -0.32654600258192945095 0.10422205846160458032 -0.10143081087493960313 0.044808580038785884858 0.16484719921389279218 -0.14354878751967806161 0.062626647101622301417 -0.16701152962488835518 0.083596881180420551383 0.043317528827124217317 0.083939486343681757319 0.068500825806953255515 -0.070883176473624243119 0.18126772102195912173 -0.12107214989185517695 0.21345018530490517117 0.047434122231317488172 0.09127549420697270155 -0.22545454265374931246 -0.039382923221846076467 0.15067812133710056788 0.17711762318864168742 0.11767203770929864082 0.23034001322428795944 -0.1568384280741768888 0.10821690526015347034 0.0096333312124834025864 0.13376598215925888935;0.12726657805130714429 0.12675748280155602066 0.15833979670578562926 0.1509475555646375422 0.06506022881383442813 -0.1556471946910664983 0.15273645526640999837 0.0017438348561493541983 0.080493055472938571104 0.27592313509226940038 0.0086449011334355108788 -0.10856749658965272887 -0.25961903132614738698 0.0038082892205860982907 0.15784600724713837572 -0.13217869522711059305 -0.001674462964494406042 0.15873411163692122128 0.13201462950851228229 -0.071703443474905190214 -0.020556866838189909868 -0.111812794544137728 0.17467836680861403842 0.13481744136787593424 0.11897082864506454414 -0.12492016307130690556 -0.14729093666901252324 0.12673879014304756385 0.15609650281615672363 -0.3857970938714962994 -0.68907894545006986853 -0.61211808546518997609 0.035676537259677294778 0.10236567795688766846 -0.040403125161717151625 -0.00050271833016251460391 0.15125444518322611609 0.19087709139363615019 0.075053200156938504328 0.064226916676923540006 0.21459934118578741225 -0.023363373370646874083 -0.048069178576174542705 0.075067640930473994443 0.12760134262140182537 -0.056932937909877807947 0.024825750734003254605 0.060043431133713714987 0.047601209574256286849 -0.20288829840432712204 -0.14938413607880310363 0.18724819579533771852 0.22580861366618729114 -0.11458985508286420596 0.15970872345200554099 -0.0010048169403020336746 0.15357458649636923642 -0.23237437654427314793 -0.54646413988649300553 -0.31862887708621495664 -0.39010185104605604733 0.11356340594261205013 0.032447875759318178801 0.035668218185012111332 -0.21257082583356123884 -0.26561080105748269276 0.15532936966327354211 -0.013638313507524590928 -0.18722081408657215151 -0.11671190334003571365 -0.11824861628452670859 0.06185399620517659236 0.19200832192368452733 0.096106175966459317372 -0.15680369638541985511 0.24573834538949521078 -0.030571405832442968137 -0.19253137585269064491 0.16875074238871171084 0.27969699573897932598 -0.14594482131878691589 -0.11942502549019322344 -0.10429160376822595169 -0.080547358710880381794 0.062890554646381421899 -0.11112423670258003705 -0.12095601195319212462 -0.098965374157271246425 0.080451218173867883321 -0.076570873184740123607 0.1835007974582742174 0.017263385939546484898 -0.15564593808139171038 -0.03787905953099749562 0.10021901933012662689 0.091075269979731532377 0.24558199388321869105 0.072085746984215659516 0.17585279503379236399 -0.22978814446610226763 0.067824599571704877188 0.18826595147879490733 -0.25600827564227085498 0.074739676594687637357 -0.03250190602258229422 0.020800349685498480123 -0.16691540461610596124 -0.073873915575744603101 -0.18065379598886202595 0.14597822382115879791 0.0099326003470008514262 0.12887359031070302895 0.02160158481739871128 -0.16852765768625857512 -0.018289989789416295773 -0.076364926441277333757 -0.19540268416311495914 0.15426254759049567999 0.0042148401483937947276;0.15008745603428252924 -0.20480618414687884465 0.0084855811091319351125 0.094891347919188892557 -0.13227580490356960485 -0.21978522546912737656 -0.0081572833762097816251 0.11902255306618997333 0.077042887094713893847 -0.1905192455436366672 0.014236859774005636639 -0.0068625608211624038874 -0.07487677802678815997 0.15961613059313212171 -0.0196495718715821166 -0.0073415277126201838181 -0.091636618129397329202 -0.012536969491535460142 0.0061930970543056153982 -0.054521536150387052422 -0.082453691829927205914 0.19907181107543905907 -0.20487505980038867026 -0.10699121445733619784 -0.093842313656754883233 -0.17478850176564528218 0.11805922500857209123 0.02272759137397123777 0.037537726158710281454 -0.051292629736763781234 0.16171719813597790205 0.045715231005031303768 -0.16388348086198775699 -0.2170975313362404624 -0.19640746664877534178 -0.20757265248384568213 -0.16362927129334661758 0.12538000511356170441 0.083600040088633101321 0.11613420887456085695 -0.19501163680593866512 -0.13179879405861510966 -0.21713422961032552427 -0.02584533625916363847 -0.15213905379906084159 -0.16305377195039835736 0.040582626793646568719 0.065792326923775457104 -0.19533057699349812286 -0.065779479767729187589 -0.096544313980013174437 -0.18415123042012143673 0.20286084454743316674 0.13764777062840136135 0.081677410885061182966 0.046337604762848635942 -0.18486253026855467563 -0.090750517820051057605 0.14484475412359812396 0.040393719959451915291 -0.082522110830288708527 -0.1179074347350639318 0.095608853126417328583 -0.096066921343855180004 -0.20256213175793558179 -0.1608022117876232171 0.1982086536354714934 -0.078421759704180485362 -0.020740187138338920386 0.0018024138494030965754 -0.14982678342559230256 -0.0037771006105589205112 0.10608650787773650503 0.13584623710416177111 0.002654704769477143813 0.13214437575136775416 0.025146094454111009991 -0.024845015270837794708 0.080752247585342898373 0.15789917073859172092 -0.093087706599999056611 0.18983612900596757989 0.11843257630269567182 -0.21261974774241809705 -0.2120949105942971924 0.17912304422178032537 0.085338066554415892284 0.056245662394235687587 -0.22662954455512487884 0.011455910287856503962 0.096911831502863712839 -0.0049633025311012490821 0.093936369890296800289 0.12137563834170814192 0.17157589564149536288 0.023401409380696274604 -0.1896097878464456099 0.1464305149870938072 -0.071067042498030350006 0.077610673520149733862 0.098424991419811258542 -0.14184839243105418216 0.15573735168088198577 0.20584968445956342009 -0.18715328463361946554 -0.066855577153747347552 -0.083800046825717997012 -0.17406401758573147864 0.12471095527905409761 0.14805391976992751668 0.11827171572088758522 -0.17047858861798606545 -0.17017534862298158704 -0.12068447267472626194 0.20305562963501760931 -0.0066697622395920919125 -0.20451106203358970781 0.071654694724517062343 -0.071958532056573973335;-0.18652569856500647583 0.22774884742022352691 -0.15198752359415379498 -0.11154607552565605488 0.098093770949130673631 0.21311279588305781507 -0.12618714497306532385 0.19505000877217079647 -0.093678562470738524492 0.14263231255792646612 0.20851404288526750874 0.20598180051535774915 0.071545385627955496166 0.20084930060691813525 -0.12627518158152525873 0.17260636288112496395 0.15180087049410836975 0.0081501603158081695893 -0.01577395319867300541 0.12094668338312124234 0.090065385896315158787 -0.02400726376971072662 0.15295859682060386486 -0.17625453002738120101 -0.014134011360308449887 0.20347002898073629495 -0.19703118140211195453 0.23018730555622157752 0.13907098579367135893 0.20153926844929204165 -0.1508852135633654834 0.1053053782266108046 0.055568765495687559575 -0.0013586803969135095686 -0.10066357165130913887 0.13956589061810642516 -0.10047574571923298392 0.088248261446557618726 -0.067943656301312313484 -0.12266172294810891163 -0.091353484192597825264 -0.16413937857465607517 -0.10615993769679647751 -0.069455309946684862243 -0.066052851956899277797 -0.069953685845572710633 -0.17661837193237425736 0.052668628113513547839 0.13566121498046754268 0.19659313683063200928 -0.13448137559543890673 0.18474910193286014914 0.21054943239009976663 0.098584757029790748284 0.072617103637219765355 -0.093871164811768145753 -0.050082757357740814719 -0.11489128889707352077 -0.17572741747911693744 0.0052211020280255454606 0.15567878175951099795 0.23365732289464694049 -0.017679721060631703455 -0.13830602186743312654 -0.11408698664089605979 -0.11957785406056195554 0.079813816865048264892 0.059573399394960264985 0.22563706274563419263 0.21302691631455189514 -0.16670947143976883043 0.15069822855744008372 -0.17556248489528764045 -0.017033208809353429097 -0.13701747097135283382 0.12773730998017568394 -0.11305337085789576856 -0.058588607792076134728 0.091757297291666442551 0.095977422146277635573 0.16686992986574125664 -0.1505124051848654998 0.13925632988490194153 0.15993406367492088438 0.17968653838578618753 -0.059060574628591398783 -0.08068069170318271921 -0.0030341656776773436206 -0.030095454727094402697 0.014974799509678721546 -0.1895575729243450247 0.17944039886294049779 0.10287604747037182307 0.21009813412191449822 0.2118705132922714951 0.11600001646112326203 -0.14841715726282994625 0.14110566853556000266 0.021607959796211197168 -0.069803818187295960107 -0.018928701375601857809 -0.070892512669238155754 0.062732892511325966112 -0.0037459621864247925199 -0.13812740287066599398 0.029809792534624453969 0.033297120012435128811 -0.1664506104529394348 -0.072606071358224402723 0.027329501160881335131 0.0076259859458194592663 0.18003830910334403526 0.099740343933739164517 -0.15866366600838210932 0.1343531161849523814 0.11137145506151305274 -0.017448157732831467981 0.036265022354173892527 -0.07705585802359193881];

% Layer 2
b2 = [-0.4235728612889416711;-0.28502090288435533161;-0.41815281654049696325;0.78687269249369473645;0.87711924521163309176];
LW2_1 = [-0.17213187265852508689 0.19094570500298360671 1.3851218355465255705 -1.6310586000965161535 0.72236599570931425696 -0.51651301674469063396 -1.1904297720403123062 -0.69211619702658377928 -0.014209009895610922106 -0.13415926197012892351;-0.93271740523707702408 0.18154785876201798289 0.59077545145622756273 0.87179962797155685639 -1.5867260371127431817 -1.1757988524515601281 0.24099492093120677971 1.8134743251533937958 0.56878256723192088806 0.069545842821358352936;-0.03823601414826980488 0.85941071492689691258 -0.26314853447572056355 1.6985660191238065586 1.8082085229557487427 -0.46059249424330084288 -0.66968035071154485838 -0.072282349850051857976 0.1769651178028810723 0.6322112040964349422;0.32861081830527300029 -0.35311603839030697438 -1.1066742857063698313 -2.0378091279505854416 -1.8808320008597307904 -1.0675522801187522504 -0.26335446076979601715 -0.43754439395803690349 -0.53048965057262476019 0.24437297839736676908;-0.11279735640897850524 -0.89314256183261264699 -0.70879950293189819543 0.58596786828531077784 -1.0935254174979460728 2.3990800053246688073 1.2673042094624058507 0.53832657306984332823 0.92191667049107139942 0.51138968743475898826];

% Output 1
y1_step1_xrows = 8;
y1_step1_remove = [1 2 3];
y1_step1_value = [0;0;0];
y1_step1_keep = [4 5 6 7 8];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = removeconstantrows_apply(x1,x1_step1_keep,x1_step1_remove);
xp1 = mapminmax_apply(xp1,x1_step2_gain,x1_step2_xoffset,x1_step2_ymin);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = softmax_apply(repmat(b2,1,Q) + LW2_1*a1);

% Output 1
y1 = removeconstantrows_reverse(a2,y1_step1_keep,y1_step1_remove,y1_step1_value,y1_step1_xrows);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings_keep,settings_remove)
if isempty(settings_remove)
    y = x;
else
    y = x(settings_keep,:);
end
end

% Competitive Soft Transfer Function
function a = softmax_apply(n)
nmax = max(n,[],1);
n = bsxfun(@minus,n,nmax);
numer = exp(n);
denom = sum(numer,1);
denom(denom == 0) = 1;
a = bsxfun(@rdivide,numer,denom);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Remove Constants Output Reverse-Processing Function
function x = removeconstantrows_reverse(y,settings_keep,settings_remove,settings_value,settings_xrows)
Q = size(y,2);
x = zeros(settings_xrows,Q);
x(settings_remove,:) = settings_value(:,ones(1,Q));
x(settings_keep,:) = y;
end
